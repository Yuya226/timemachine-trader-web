{% extends "base.html" %}

{% block title %}ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³é¸æŠ - ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³ãƒ»ãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼{% endblock %}

{% block content %}
<div style="padding: 24px 0;">
    <a href="/home" class="nav-back" id="back-link">â† ã‚®ãƒ«ãƒ‰ã«æˆ»ã‚‹</a>

    <header class="header" id="page-header">
        <h1>ğŸ° ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³é¸æŠ</h1>
    </header>

    <p class="text-muted mb-4" id="page-description">æ”»ç•¥ã™ã‚‹ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ãã ã•ã„</p>

    <div id="main-content">
        <div class="dungeon-list" id="dungeon-list">
            {% for dungeon in dungeons %}
            {% if dungeon.can_enter %}
            <a href="/dungeon/{{ dungeon.id }}" class="dungeon-card {% if dungeon.completed %}completed{% endif %}">
            {% else %}
            <div class="dungeon-card locked">
            {% endif %}
                <div class="dungeon-icon">
                    {% if dungeon.difficulty == 'easy' %}ğŸŒ²
                    {% elif dungeon.difficulty == 'normal' %}â›°ï¸
                    {% elif dungeon.difficulty == 'hard' %}ğŸ°
                    {% else %}ğŸŒ‹{% endif %}
                </div>
                <div class="dungeon-info">
                    <div class="dungeon-name">
                        {{ dungeon.name }}
                        {% if dungeon.completed %}âœ…{% endif %}
                    </div>
                    <div class="dungeon-meta">
                        <span class="difficulty-badge" style="--difficulty-color: {{ DIFFICULTY_COLORS[dungeon.difficulty] }}; --difficulty-bg-color: {{ dungeon.difficulty_bg_color }};">
                            {{ DIFFICULTY_LABELS[dungeon.difficulty] }}
                        </span>
                        <span>Lv.{{ dungeon.recommended_level }}+</span>
                        <span>ğŸ’°{{ dungeon.gold_reward }}</span>
                    </div>
                    <p style="font-size: 0.75rem; color: var(--muted); margin-top: 4px;">{{ dungeon.description }}</p>
                </div>
                <div class="dungeon-arrow">
                    {% if dungeon.can_enter %}â†’{% else %}ğŸ”’{% endif %}
                </div>
            {% if dungeon.can_enter %}</a>{% else %}</div>{% endif %}
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}
